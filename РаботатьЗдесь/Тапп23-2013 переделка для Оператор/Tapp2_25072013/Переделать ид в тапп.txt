переделать ид и генератор ид в тапп, чтобы они не откатывали ид при удалении, а только создавали новый ид при создании элемента.
Тогда не будет путаницы при работе с историей элементов.
- 64 бита на идентификатор: 16бит-номер солюшена, 48бит-номер элемента?
  - или 16бит-номер солюшена, 4бит-тип элемента, 44бит-номер элемента?
  - вопрос: какие вообще там должны быть поля в ид?
    - он должен быть размером 64 бита, чтобы влезать в поле БД
    - номер солюшена лучше хранить в БД отдельным полем, а в объекте иденитфикатора хранить - тоже лучше отдельным полем.
- эту тему и список полей еще надо разрабатывать!