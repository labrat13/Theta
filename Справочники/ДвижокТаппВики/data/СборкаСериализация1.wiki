++ Сборка Сериализация1
[//ПЕРЕДЕЛАТЬ]

Сериализация это превращение объектов ячеек и связей СтруктурыСущностей в последовательность байт или символов для записи в файл или передачи по сети. Десериализация - это обратный процесс.

Сериализация позволяет сделать моментальный СнимокСтруктуры, который можно использовать для сохранения ВерсияДанныхСтруктурыСущностей, поместить в архив, или использовать как подгружаемый при необходимости набор данных.

Сериализация также предназначена для передачи элементов структуры через сеть при помощи МеханизмКоммуникацииКонтейнеров.

Для сериализации в КодДвижка добавлен ИнтерфейсСериализации.
Поддерживающие его классы реализуют сериализацию своих данных в двоичный набор байт.

++++Модульное устройство
Концепция сериализации предполагает, что каждая сериализуемая сущность есть контейнер данных, реализуемый сериализуемой сущностью.
В концепции нужно определить набор и порядок следования таких контейнеров - ячеек, связей, секций снимка, статистики итд.
Устройство каждого такого контейнера определяется кодом в сериализуемой сущности.
То есть, описываем общий формат файла снимка - в виде порядка контейнеров.
Описываем общие черты контейнеров - контрольную сумму, заголовок и так далее.
Затем описываем устройство каждого типа контейнеров независимо.
Если в дальнейшем устройство какого-то контейнера изменилось, на общую концепцию это не должно влиять.

+++Замечания
* Сериализация данных ячейки в текст для ТекстовыйФайлСнимка или для [Лог]а или для показа пользователю должна будет использовать МетодОбработчикЯчейки обработчики из ячеек ЯчейкаТипаДанных.
* Для СолюшенБезБД может не хватить оперативной памяти для загрузки слишком большого солюшена в память.
* Поскольку элементы загружаются в память, нельзя применять большие объемы данных при чтении или записи - может не хватить памяти, особенно если ячейка содержит много двоичных данных. Надо или по одной ячейке или подбирать размер порции в зависимости от размера свободной памяти. Со связями ячеек проблем меньше, но тоже надо учитывать.
* CRC-код в прошлой версии Тапп заменен обычной суммой. Надо сделать реальный CRC.
* Связи и ячейки сериализуются собственными функциями, так как надо обходить навороты и использовать приватные переменные.
* Подсистема сериализации недостаточно продумана и должна быть реорганизована.
    * todo: надо определить новый состав требований к подсистеме сериализации, включая информацию о [Солюшен]е.
    * todo: надо перепроектировать подсистему сериализации в соответствии с новыми требованиями.
Это затронет и другие подсистемы, поэтому нужно пересмотреть всю концепцию проекта и документировать требования к другим частям проекта. Вообще, это касается всего проекта, но отложено до следующего релиза.

* реализована ли Save в MCellB? не помню
* перевод MCellB в Bds и Bt возможен без проблем?
* Загружать ячейки - сначала как MCellBt, а потом копировать в MCellA
* Число элементов в секции отвязано от СтатистикаСолюшена и служит только для технических целей - инфы о кол-ве итемов секции.




   







 