++ Концепция Ресурсов
Из wiki:///V:/МоиПроекты/SIM/Работать%20здесь/NewConcept/NewConcept.wiki?page=КонцепцияРесурсов
[//В РАЗРАБОТКЕ] - свести материалы в сборки по темам, подобно КонцепцияСтруктурыСущностей.
++++Описание концепции
Описывает подсистему ресурсов.

++++Состояние:
* Сейчас перерабатываю исходные материалы, чувствуется неполнота представления и недостаточная глубина проработки всей темы. Тут можно ожидать много проблем. 
Хотя тема в общем простая - это просто хранение в ячейках ссылок на файлы, и содержание файлов в ХранилищеРесурсовСолюшена.
Все же мне не удалось разделить сущности друг от друга, описания содержат много общего текста. Лучше бы собрать все обратно в концептуальный текст и там уже определить, что поместить в описание сущностей в глоссарий.
todo.концепция.ресурсы: Собрать тексты из сборок в единый документ-концепцию, удалить дубликаты текстов, затем снова разнести по сборкам и уже после этого поместить в страницы описания сущностей глоссария.
todo.концепция.ресурсы: Осмотреть существующий КодДвижка и описать, что там и как сделано, в отдельном отчете. Потом разнести по сборкам концепции и обработать.

+++Сборка версий
Сейчас тут кучей навалены тексты разных версий, надо:
1. Растаскать все материалы по темам Сборка ХХХХ. - сделано.
2. Каждую сборку просмотреть и превратить всю кучу текстов в один цельный, актуальный, адекватный текст.
3. Расставить вики-ссылки на термины в текстах.
4. Написать связный текст концепции ресурсов на этой странице.
5. Перенести тексты из сборок в соответствующие страницы сущностей глоссария.
6. Почистить страницы и привести их в удобный для чтения вид.

* СборкаРесурс1 - доделать

* СборкаИдентификаторРесурса1 - обработано 13.06.2016 22:08

* СборкаФайлРесурса1 - обработано 13.06.2016 22:20

* СборкаЯчейкаФайлаРесурса1 - обработано 13.06.2016 22:34

* СборкаКаталогРесурсовСолюшена1 - обработано 14.06.2016 13:49

* СборкаМенеджерРесурсов1 - дополнить

* СборкаОперацииСРесурсами1 - доделать

* СборкаОптимизацияРесурсов1 - обработано 13.06.2016 22:42

+++Версии подсистемы
* Эта подсистема должна реализовываться как подпроект. Поэтому она имеет собственную версию. См. ТемаКакИспользоватьСолюшеныВБудущем.
* Нужно реализовать проверку соответствия версии файлов в подсистеме ресурсов как часть проверки формата файла.
* СписокВерсийПодсистемыРесурсов
* ВерсияПодсистемыРесурсов
* Но сейчас (29.01.2017 11:11) у подсистемы ресурсов нет собственных форматов файлов, поэтому нет _Заголовка файла_. Если у подсистемы появятся собственные форматы файлов, для них нужно создать сущность ЗаголовокФайлаРесурса, а в нем поле *Обозначение версии подсистемы ресурсов*.

+++Концепция ресурсов - хранилищ данных
Из wiki:///V:/МоиПроекты/SIM/Работать%20здесь/NewConcept/NewConcept.wiki?page=ОИспользованииВнешнихДанных
Типично данные хранятся в ячейках СтруктураСущностей. Это позволяет их структурировать, связать какими-то отношениями, привязывать метаданные, обеспечивает эффективный доступ. Но для большого объема редко используемых однотипных данных это получится слишком большая структура. Множество ячеек, используемых редко, занимают место в БД системы, это замедляет выборку из таблиц, это будет тормозить систему.

++++Структурированные данные внутри файла ресурса
Для работы система может использовать таблично-структурированные внешние данные - любые данные, представленные таблицей БД или csv-файлом или xml-файлом.
Эти данные можно хранить в файле ФайлРесурса, а в СтруктураСущностей хранить ФайлРесурса как хранилище данных, описание формата файла и методы доступа к данным. Тогда метод будет выбирать из хранилища данные по заданным критериям, превращать в структуры ячеек и предоставлять их в систему в виде сравнительно небольшого набора данных. Ну и наоборот соответственно.
Таким же образом можно реализовать доступ к таблицам реляционной БД.

Таблицу или файл можно представить как сущность-коллекцию с методами доступа, форматом столбцов и абстрактной коллекцией данных. БД или FTP-сервер можно представить как хранилище таких сущностей, со входом, требующим идентификации.

Редко используемые данные, таким образом, не хранятся в системе, а загружаются, при необходимости, из файла ФайлРесурса. Это разгружает СтруктураСущностей, но она становится зависимой от надежности этих хранилищ данных. Поэтому использовать эту технологию следует только для наборов однотипных данных, которые нет практической необходимости структурировать и снабжать метаданными. То есть, это данные, которые используются редко, не полностью и локально, например, городской телефонный справочник, или база данных радиодеталей. Такие данные проще загружать временно в систему, выполнить операции и удалить из системы.

++++Структура сущностей внутри файла ресурса
Некоторый цельный УчастокСтруктурыСущностей можно вынести в ФайлРесурса в виде ЧастичныйСнимокСтруктуры.
Такой файл можно загрузить в СтруктураСущностей, провести работы и выгрузить обратно, если нужно сохранить изменения.


++++Многоконтейнерная система
Большие объемы однотипных или сложно структурированных данных можно также хранить в специально выделенных для них [Контейнер]ах [МногоконтейнернаяСистема]ы, это позволит обращаться к ним как к части системы, привязывать метаданные, реструктурировать, выполнять методы, итд. Но такой контейнер должен работать в отдельном процессе, а лучше на отдельном компьютере, поскольку он занимает оперативную память компьютера. См. КонцепцияМультиконтейнерность.


++++Подсистема ресурсов и транзакции
Транзакции предполагают их отмену. Если внутри ТранзакцияСолюшена создается ЯчейкаФайлаРесурса, при откате транзакции ее нужно физически удалить. Соответственно, нужно удалить и созданный ФайлРесурса, иначе пространство идентификаторов ИдентификаторФайлаРесурса будет использоваться нерационально. Пока предполагается, что все это может делать только [Оптимизатор], но как видно, это не так.
К тому же, этот ФайлРесурса в некоторых случаях недопустимо уничтожать. Например, когда он не копируется, а перемещается в ХранилищеРесурсовСолюшена. Тут надо что-то придумать. Надо выявить такие ситуации и придумать оптимальное решение. 
todo.концепция.ресурсы: создать отдельную задачу для обсуждения этой проблемы и поиска решения.

++++Службы операционной системы
Операционная система блокирует файл или каталог для служб индексирования, бекапа, создания миниатюр изображений. Заблокированный файл или каталог выдаст исключение при попытке доступа.
В этих случаях файлы невозможно удалить, изменить или добавить, в течение непредсказуемого промежутка времени. Иногда значительного.
Поскольку реальная работа с удалением файлов ФайлРесурса выполняется [Оптимизатор]ом, он должен проверять все ячейки файлов ресурсов на наличие файлов, и наоборот, файлы на наличие ячеек. 
Для надежной работы подсистемы ресурсов необходимо предотвращать индексирование файлов [Солюшен]а. Для этого надо отдельно прорабатывать защитные меры, так как операционная система или пользователь недостаточно предсказуемы в этом плане.


+++Материалы
Функция создания ресурса требует ПользовательскаяКонцепцияСолюшена.

++++Требуются методы
* Как ячейка ресурса должна быть связана с файлом ресурса? Как это будет использоваться?
    * Обычно через методы. Методы управляют файлом - показывают, запускают, удаляют итд.
    * Но пока нет методов в [Движок]е.
    * Тогда это просто локальное хранилище файлов, которое даже использовать нельзя.
    * Значит, подсистема ресурсов сейчас не может работать, она должна существовать как зачаток, на будущее. 
    * Подсистема ресурсов зависит от подсистемы [Метод]ов.
     
++++Виды ресурсов
В ячейке ресурса можно хранить ссылки на файлы, веб-ссылки, еще что-то.
Но пока нет методов в Движке, эти ресурсы нельзя использовать. Ну разве только в приложении реализовывать эти методы.









