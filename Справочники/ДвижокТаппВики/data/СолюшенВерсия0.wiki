++ Солюшен Версия0
[ДОПОЛНИТЬ] - надо дополнить сведения и переделать операции


+++Общее определение
СтруктураСущностей с точки зрения пользователя представлена Солюшеном.
Физически солюшен представлен каталогом КаталогСолюшена на диске. Логически солюшен представлен файлом ФайлСолюшена и МенеджерСолюшена.

Солюшен представляет весь набор данных. Пользователь работает с [Солюшен]ом. 
Пользователь может просматривать, создавать и изменять структуру системы, создавать и удалять Солюшены, просматривать их свойства.

[Солюшен] сопоставлен с БазаДанныхСолюшена, с [Контейнер]ом, в котором работает СтруктураСущностей.
В целом, [Солюшен] вместе с БазаДанныхСолюшена и [Движок]ом, образует функциональную единицу СерверСолюшена. 
Из нескольких СерверСолюшена можно образовать МногоконтейнернаяСистема - кластер, несколько СтруктураСущностей, связанных между собой через локальную сеть.

+++Файлы в солюшене
Солюшен использует ФайловаяСистемаСолюшена для хранения файлов. 
С точки зрения пользователя, вся разрабатываемая система работает с некоторой группой файлов и данных БД, обобщенно называемых Солюшен. Солюшен имеет главный файл - ФайлСолюшена, который описывает [Солюшен].

[Солюшен] размещается в выделенном каталоге  КаталогСолюшена и включает в себя ФайлСолюшена, БазаДанныхСолюшена, файлы и каталоги для: [Лог]а, снимков СтруктураСущностей , файлов ФайлРесурса, сборок кода методов, заметок пользователя.

+++База данных солюшена 
БазаДанныхСолюшена располагается на СерверSQLБД. На один [Солюшен] одна БД, имена таблиц фиксированные.

Солюшен может быть с БД и без БД.
++++Солюшен с БД
В солюшене с БД СтруктураСущностей физически хранится в БД, которая размещается на СерверSQLБД. Во время работы структура сущностей частично содержится в оперативной памяти.
Солюшен может использовать разные типы БД. См. ПереченьТиповБд. Для каждого типа БД должен быть разработан собственный АдаптерБД, реализующий однотипный ИнтерфейсАдаптераБД.

++++Солюшен без БД
[Солюшен] может не иметь БД, в этом случае СолюшенБезБД хранит все состояние СтруктураСущностей в полных снимках. Только MCellBt ячейки и только временные связи могут использоваться в таком [Солюшен]е. Поддержка СолюшенБезБД введена в код без полного проектирования, поэтому нельзя считать существующий код образцом, его надо переделывать.
В таком [Солюшен]е невозможно сохранить ячейки и контейнер в БазаДанныхСолюшена.
Сейчас [Солюшен] считается не использующим БазаДанныхСолюшена, если файл [Солюшен]а не содержит путь к СерверSQLБД. В этом случае значения полей имени БД, пользователя, пароля и таймаута в ФайлСолюшена, игнорируются.

+++Настройки солюшена
НастройкиСолюшена хранятся в ФайлСолюшена. Открытие этого файла приводит к открытию [Солюшен]а через пользовательскую оболочку ([Навигатор]). Там хранятся фиксированные имена каталогов, расширений файлов итп, имеющее отношение к [Солюшен]у.
В предыдущей версии Тапп свойства [Солюшен]а хранились в ТаблицаКонтейнераБд, потом часть их была вынесена в [ФайлСолюшена], но это будет мешать при работе [Движок]а без полного сформированного [Солюшен]а.

todo.концепция.солюшен: Надо выписать все режимы эксплуатации солюшена в список и описать их. А то сейчас тут путаница с ними. СписокРежимовЭксплуатацииСолюшена. С БД, без БД, серверный, внутрипроцессный, только СтруктураСущностей, итд.

++++Список свойств солюшена
См. ФайлСолюшена.
todo.концепция.солюшен: выбрать свойства именно солюшена из ФайлСолюшена для чистоты описания. И поместить их в НастройкиСолюшена.



+++Операции Солюшена - старая концепция.
[ДОПОЛНИТЬ] - операции пользователя с [Солюшен]ом
См также ОперацииСолюшенаПрошлойВерсии - для уточнения нюансов.
Операции [Солюшен]а надо проектировать в соответствии с особенностями СтруктураСущностей. Пока просто наброски.

* todo.концепция.солюшен: Надо выписать все операции солюшена в список на отдельные страницы, и описать их. Это уже разработка функциональности будет, это пока рано делать. Хотя для начала следует все же сделать это. Чтобы ссылки на операции в остальных текстах использовать.
* См также функциональность [Навигатор]а, поскольку он работает с солюшеном как основное средство.

 * ИнициализацияПодсистемыСолюшена - инициализация. Согласно ИнтерфейсМенеджеровПодсистем. 
 * ДеинициализацияПодсистемыСолюшена - завершение. Согласно ИнтерфейсМенеджеровПодсистем.
 
 * СозданиеСолюшена - создание нового [Солюшен]а
 При создании нового [Солюшен]а надо будет указать для него ИдентификаторСолюшена, НазваниеСолюшена и другие обязательные параметры.
 
 
 * ОткрытиеСолюшена - открытие существующего [Солюшен]а
 [Солюшен] открывается контейнером по файлу [Солюшен]а. В зависимости от использования [Солюшен]ом БД выполняются действия. Код не завершен.
 
 * ПолучениеСтатистикиСолюшена - получение СтатистикаСолюшена открытого [Солюшен]а
 По состоянию контейнера вычисляется СтатистикаСолюшена, в виде экземпляра класса передается куда-либо для использования.
 
 * СохранениеСолюшена - сохранение открытого [Солюшен]а
 [Солюшен] сохраняется контейнером. Код не завершен. 
 
 * ОптимизацияСолюшена - оптимизация структуры [Солюшен]а
 * ЗакрытиеСолюшена - закрытие открытого [Солюшен]а
 Контейнер. Проверяется использование БД, проверяется наличие соединения, сохраняетя, закрывается соединение, очищаются списки контейнера, закрывается [Лог]. 
 
 * ОчисткаСолюшена - удаление ячеек и связей, сброс НастройкиСолюшена
 Удаление всех элементов из [Солюшен]а. 
 todo.концепция.солюшен: По окончании разработки концепции надо определить, что именно из содержимого Солюшена должно быть удалено и какие значения в свойствах сброшены в начальное состояние.
 
 * УдалениеСолюшена - удаление БД и файлов [Солюшен]а.
 
 * ПроверкаИспользованияБД - проверка, использует ли солюшен БД.
Для проверки используется наличие пути к СерверSQLБД в файле [Солюшен]а. Если строка пути пустая, считается, что [Солюшен] не использует БД.

 * Получение свойств солюшена
Чтение свойств [Солюшен]а через проперти.

++++Создание солюшена
+++++Создание Солюшена с БД
Создание [Солюшен]а предполагает создание каталога и файла [Солюшен]а, подкаталогов.
Потребуются также параметры доступа к СерверSQLБД.
-в пользовательском приложении получить все данные для создания файла [Солюшен]а, включая имя БД. У пользователя должен быть доступ к БД [Солюшен]а.
-создать файл [Солюшен]а в памяти.
-создать каталоги [Солюшен]а и сохранить файл [Солюшен]а.
-открыть соединение с БД
-создать БД
-создать таблицы и процедуры БД.
-создать начальные записи в таблицах, еще что-то...
-закрыть соединение с БД.
-...
После создания [Солюшен]а его можно открыть.

+++++Создание Солюшена без БД
Создание [Солюшен]а предполагает создание каталога и файла [Солюшен]а, подкаталогов.
Если используется БД, потребуются также параметры доступа к СерверSQLБД.
-в пользовательском приложении получить все данные для создания файла [Солюшен]а 
-создать файл [Солюшен]а
-создать каталоги [Солюшен]а и сохранить файл [Солюшен]а.
-...
После создания [Солюшен]а его можно открыть.

++++Открытие солюшена
+++++Открытие Солюшена с БД
-создать объект контейнера
-загрузить в него файл [Солюшен]а
-открыть [Лог] [Солюшен]а
-загрузить в контейнер данные из БД. 
-...
При загрузке [Солюшен]а из БД данные контейнера берутся из БД. При начальном использовании контейнера использутся данные контейнера по умолчанию. 

+++++Открытие [Солюшен]а без БД
-создать объект контейнера
-загрузить в него файл [Солюшен]а
-открыть [Лог] [Солюшен]а
-работать с пустым контейнером, либо загрузить файл снимка.
-...
При загрузке [Солюшен]а из файла снимка данные контейнера берутся из этого снимка. При начальном использовании контейнера, когда еще нет файла снимка, использутся данные контейнера по умолчанию. 

++++Сохранение солюшена
+++++Сохранение [Солюшен]а с БД
-сохранить данные структуры
-сохранить данные контейнера

+++++Сохранение [Солюшен]а без БД
-сохранить данные структуры
-сохранить данные контейнера

++++Закрытие солюшена
+++++Закрытие [Солюшен]а с БД
-закрыь контейнер
-закрыть [Лог]
-...

+++++Закрытие [Солюшен]а без БД
-закрыть контейнер
-закрыть [Лог]
-...

 
 