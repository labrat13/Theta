Тапп Выборки из БД

Там проблема с классами: каждая ячейка должна иметь класс ячейки. И так как ячеек много, то выбирать их из БД по классу ячейки - непросто. Предлагается выбирать их частями: сначала узнать общее количество, а потом, если оно большое, то выбирать диапазонами по 4096 штук. А то общий список ячеек в памяти не поместится.


Выборки из БД для большого объема ячеек указанного класса:

- int getCountCellByClassId(CID classId) - получить количество ячеек с таким классом
- Cell[] getCellsByClassId(int from, int to, CID classId) - выбрать порцию ячеек с таким классом
  - инт - не годится - некому нумеровать ячейки. надо использовать CID от 0 до текущего максИД, разделенный на куски по 4096.
    Или еще круче - сначла получить массив tableID с from и LIMIT(4096), а по нему уже выбирать ячейки из БД. Хоть по 1, хоть все.
    В общем, тут надо думать.
- Enumerator ?  - слишком долго по одной штуке из БД получать ячейки