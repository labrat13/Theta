Тапп23
Вся эта тема - выявление полезных соответствий между структурой сущностей и файловой системой как она видна через Проводник.

Можно представить тапп23 структуру сущностей как структуру их сущностей-контейнеров. Подобно файловой системе в Проводнике Виндовс.
Папки изначально задуманы только как контейнеры, и ничего более.
Файлы считаются единицами информации, но являются также контейнерами, только другого формата.
Можно сказать что все там - контейнеры различных форматов. 
Например, текстовый файл содержит абзацы, которые содержат предложения, которые содержать слова и знаки препинания.

Приложения в смысле навигации по этой структуре контейнеров являются расширениями Проводника. 
Проводник работает только с файлами и каталогами. Приложения работают с сущностями, содержащимися внутри файлов.

... Тут предлагалось структуру сущностей Тапп считать похожей на файловую систему Проводника, чтобы извлечь полезные концепции для совершенствования Тапп. Эта запись пропала, так как диктофон не айс. Хотя, записывая текст карандашом, я бы не смог столько придумать.

Упаковка сущностей и распаковка.
Для работы с информацией предлагалось распарсить файл на структуру сущностей, провести работы, возможно, изменения и собрать все обратно в файл. Это позволяет и работу проводить, и не занимать объем структуры сущностей редко используемыми этими ячейками, составляющими сущность-файл. Сохранять структуру сущностей компактной. Это актуально, поскольку у меня файлов более миллиона. И я не могу все их хранить так вот распакованными на абзацы и предложения. То же применимо и для сущностей в структуре сущностей Тапп.
 
Распаковка структуры сущностей, изменение и упаковка. Изменение части структуры сущностей.
Упаковка возможна если ячейки упаковываемой структуры не имеют связей с неупаковываемыми ячейками структуры сущностей.
То есть, как в Частичный снимок структуры сущностей. Именно этот механизм я предполагаю в дальнейшем использовать. 
Только несколько модифицированный под... Там есть два варианта: Частичный снимок структуры, который предполагает что изолированный участок структуры упаковывается в контейнер. Это сокращает размер структуры. 
Другой вариант: мы берем файл, парсим его на такую структуру сущностей, обрабатываем, вносим изменения и упаковываем обратно в это же формат файла. Это подобно архиву ZIP.
Никто не мешает распарсить файл, превратить его в структуру сущностей и сохранить уже как Частичный снимок структуры сущностей.
Только для чего это нужно, раз уже парсер есть? Для автоматического наполнения файла контентом, наверно.
--то есть, для файлов некоторого формата потребуется и парсер и сборщик в/из структуры сущностей.

Из практики работы с архивами можно позаимствовать методы для работы с частичными снимками структуры сущностей. Похожая концепция.
Важно что т ак можно упаковывать только изолированные участки структуры сущностей.
Но и в них есть еще типы ячеек и типы связей, обработчики итд. Вот с этим проблема частичных снимков.
Типы ячеек и типы связей это фактически связи с ячейками. Иногда даже внешними для контейнера.
Поэтому эти ячейки типов надо сохранять стабильными на всем протяжении существования всех частичных снимков.
Ячейку типа нельзя удалять пока в частичных снимках есть хотя бы одна связь-ссылка на нее. Но контролировать это очень трудоемко - надо перебрать все частичные снимки. Включая архивные, если они хранятся отдельно от структуры сущностей.
Можно положить, что частичные снимки не имеют смысла вне родительской структуры сущностей.
Хотя они изначально задумывались для экспорта частей структуры сущностейи должны были быть функционально, семантически законченными.
 
С другой стороны, не удалять ячейки типа - в них будет бардак. Это явно отдельная тема. Надо проработать этот вопрос в концепции Частичного снимка. Если в нем все это будет разрешено хорошо, то и упаковку-распаковку файлов можно будет организовать таким же способом.

Эта система Тапп (по сравнению с Проводником) хороша тем, что она позволяет каждую папку трактовать как индивидуально объект некоторого класса с собственными свойствами и разнообразными связями. Например, мои папки проектов можно было бы занести в Тапп структуру сущностей, присвоить им тип Проект. И в дальнейшем с ними работать как именно с проектами. Сейчас же с этими папками я должен указывать их расположение вручную. И не могу легко выбрать их по типу, или по какой-либо другой классификации. 
Структуру файлов Проводника я могу воспроизвести в Тапп. И прицепить к ней эти данные.
Но я не могу синхронизировать изменения. Если я перемещу папку или удалю, мне придется вручную вносить изменения в структуру сущностей Тапп. Информация о папке не привязана к самой папке.

Хотя вот в NTFS у папки и файла и тома есть собственные ИД, и по этим ИД уже можно файлы и папки отслеживать и привязать к структуре сущностей Тапп.
ИД вроде бы при перемещении не изменяется. Но его надо как-то получить в пользовательском режиме. Для этого я нашел код на Шарпе.
И надо сканировать всю файловую систему чтобы синхронизировать структуру сущностей при изменении.
Теоретически, доступ к ИД файлов позволил бы мне создать собственный Проводник, более насыщенный метаданными и более свободный от Виндовс.
Сейчас Проводник Виндовс ограничен из-за поддержки более старых и неудачных решений из прошлых версий Виндовс. Это явно стало проблемой в Виндовс 8.


 

