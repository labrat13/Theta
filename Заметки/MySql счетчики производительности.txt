Нет там ничего интересного.
В код добавлены счетчик вызовов процедур и счетчик вызовов чего-то помельче - операторов вроде + или OR.
Даже по-моему без таймштампов, но они все равно в лог пишутся.
Вот и весь подсчет производительности. Никаких алгоритмов вычисления производительности нет там.